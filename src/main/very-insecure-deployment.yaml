apiVersion: apps/v1
kind: Deployment
metadata:
  name: very-insecure-deployment
spec:
  replicas: 1
  selector:
    matchLabels:
      app: insecure-app
  template:
    metadata:
      labels:
        app: insecure-app
    spec:
      containers:
        - name: insecure-app
          image: nginx:latest # üü• —É—è–∑–≤–∏–º–æ—Å—Ç—å: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–≥ latest
          ports:
            - containerPort: 80
          securityContext:
            privileged: true             # üü• —É—è–∑–≤–∏–º–æ—Å—Ç—å: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏
            runAsUser: 0                 # üü• —É—è–∑–≤–∏–º–æ—Å—Ç—å: –∑–∞–ø—É—Å–∫ –æ—Ç root
            allowPrivilegeEscalation: true # üü• —É—è–∑–≤–∏–º–æ—Å—Ç—å: —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
          resources: {}                  # üü• —É—è–∑–≤–∏–º–æ—Å—Ç—å: –Ω–µ—Ç resource limits
      hostNetwork: true                  # üü• —É—è–∑–≤–∏–º–æ—Å—Ç—å: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç hostNetwork
      hostPID: true                      # üü• —É—è–∑–≤–∏–º–æ—Å—Ç—å: –¥–æ—Å—Ç—É–ø –∫ host PID namespace
      hostIPC: true                      # üü• —É—è–∑–≤–∏–º–æ—Å—Ç—å: –¥–æ—Å—Ç—É–ø –∫ host IPC namespace
      tolerations:
        - effect: NoSchedule
          operator: Exists               # üü• —É—è–∑–≤–∏–º–æ—Å—Ç—å: –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–∞ master node
